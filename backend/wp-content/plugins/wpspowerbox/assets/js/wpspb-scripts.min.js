function sortablelist(){"use strict";$(".sortable").nestedSortable({forcePlaceholderSize:!0,items:"li",handle:"div",placeholder:"menu-highlight",listType:"ol",maxLevels:2,opacity:.6,update:function(e,t){reindexelements()}})}function reindexelements(){"use strict";$("#listItems ol#sortable > li").each(function(e,t){$(t).attr("id","top-li-"+e),$(t).find("input:eq(0)").attr("name","manage[wp_custom_admin_menu]["+e+"][menu_title]"),$(t).find("input:eq(1)").attr("name","manage[wp_custom_admin_menu]["+e+"][menu_url]")}),$("#listItems ol#sortable li").each(function(e,t){var n=$(t);n.find("li").each(function(e){var t=n.index();$(this).attr("id","top-li-"+t+"-sub-"+e),$(this).find("input:eq(0)").attr("name","manage[wp_custom_admin_menu]["+t+"][submenu]["+e+"][menu_title]"),$(this).find("input:eq(1)").attr("name","manage[wp_custom_admin_menu]["+t+"][submenu]["+e+"][menu_url]")})})}jQuery(document).ready(function(e){"use strict";e("#manage_fonts_primary_variants").select2({placeholder:"Select an option"}),e("#manage_fonts_primary_font").on("change",function(){var t=e("#manage_fonts_primary_font").val();e("#manage_fonts_primary_variants").find("option").remove();wpspb_admin_ajax_url.admin_ajax_url;var n=e("#manage_fonts_primary_variants");t.length>0&&e.ajax({url:wpspb_admin_ajax_url.admin_ajax_url,type:"POST",data:{action:"showfontvariants",security:wpspb_admin_ajax_url.nonce,fontname:t},dataType:"json",success:function(t){n.css("width","180"),e.each(t.variants,function(a,i){if("-1"!=e.inArray(i,t.checked))var s="selected";else s="";n.append("<option value="+i+" "+s+">"+i+"</option>")}),e(n).select2({placeholder:"Select an option"})},error:function(e,t,n){console.log(e)}})}),e("#manage_fonts_secondary_variants").select2({placeholder:"Select an option"}),e("#manage_fonts_secondary_font").on("change",function(){var t=e("#manage_fonts_secondary_font").val();e("#manage_fonts_secondary_variants").find("option").remove();wpspb_admin_ajax_url.admin_ajax_url;var n=e("#manage_fonts_secondary_variants");t.length>0&&e.ajax({url:wpspb_admin_ajax_url.admin_ajax_url,type:"POST",data:{action:"showfontvariants",security:wpspb_admin_ajax_url.nonce,fontname:t},dataType:"json",success:function(t){n.css("width","180"),e.each(t.variants,function(a,i){if("-1"!=e.inArray(i,t.checked))var s="selected";else s="";n.append("<option value="+i+" "+s+">"+i+"</option>")}),e(n).select2({placeholder:"Select an option"})},error:function(e,t,n){console.log(e)}})}),e(".redirect-users .select_redirect_page").on("change",function(t){"custom_url"==e("option:selected",this).val()?e(this).parent().next("div.custom_url").show("fast"):e(this).parent().next("div.custom_url").hide("fast")}),e("#add_to_menu").on("click",function(t){var n=e("#menu_title").val(),a=e("#menu_url").val(),i=0;e("#listItems ol#sortable li").length>0&&(i=e("#listItems ol#sortable li").length);var s='<div class="menu-title"><label for="input-title-top-li-'+(i=parseInt(i)+1)+'">Title</label><input type="text" class="customtitles" name="manage[wp_custom_admin_menu]['+i+'][menu_title]" id="input-title-top-li-'+i+'" value="'+n+'"/></div>',l='<div class="menu-url"><label for="input-url-top-li-'+i+'">URL</label><input type="text" name="manage[wp_custom_admin_menu]['+i+'][menu_url]" id="input-url-top-li-'+i+'" value="'+a+'"/></div>';e("#listItems ol#sortable").append('<li id="top-li-'+i+'"><div class="alter-sort-list"><span class="menu_title">'+n+'</span><a href="javascript:void(0)" class="wps-edit-expand"><i class="fa fa-chevron-down" aria-hidden="true"></i> <span>Edit</span></a><a href="javascript:void(0)" class="wps-remove-menu"><i class="fa fa-chevron-down" aria-hidden="true"></i> <span>Remove</span></a><div class="alter-menu-contents">'+s+l+"</div></div></li>"),reindexelements(),sortablelist(),e("#menu_title").val(""),e("#menu_url").val(""),e("#menu_title").focus()}),e("#listItems ol#sortable li").length>0&&sortablelist(),e(document).on("click","a.wps-edit-expand",function(t){t.preventDefault(),e(this).nextAll(".alter-menu-contents:first").slideToggle("fast")}),e(document).on("keyup","#listItems ol#sortable li input.customtitles",function(){e(this).parent("div").parent("div").parent("div").children("span").html(e(this).val())}),e(document).on("click",".wps-remove-menu",function(){e(this).parent("div").parent("li").find("li").each(function(t){e(this).remove()});var t=e(this).parent("div").parent("li");e(t).remove()}),e(".top_chk").on("click",function(){var t=this.checked;e(this).parents("li").children("ol").find("input[type=checkbox]").each(function(){e(this).attr("checked",t)})}),e(".sub_chk").on("click",function(){this.checked;!1===this.checked&&e(this).parents("li").parents("li").find(".top_chk").each(function(){e(this).removeAttr("checked")})})});
